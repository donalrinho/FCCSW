<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>FCCSW</title>
  <meta name="description" content="Main page for documentation and resources.">

  <link rel="stylesheet" href="http://fccsw.web.cern.ch/fccsw/css/main.css">
  <link rel="canonical" href="http://fccsw.web.cern.ch/fccsw/tutorials/">
  <link rel="alternate" type="application/rss+xml" title="FCCSW" href="http://fccsw.web.cern.ch/fccsw/feed.xml">
</head>


  <body>

    
<header>
   <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://fccsw.web.cern.ch/fccsw/index.html">FCCSW</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li ><a href="http://fccsw.web.cern.ch/fccsw/index.html">Home</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="input-group">
            <span class="input-group-addon" id="basic-addon1"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
            <input type="text" class="form-control" id="search-input" placeholder="Search" aria-describedby="basic-addon1">
            </div>
          </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

</header>
<div class="container">
  <div class="collapse panel panel-default" id="resultswrap">
      <div class="panel-heading">Search Results <button type="button" class="close" aria-label="Close"><span aria-hidden="true" onclick="$('#resultswrap').collapse('hide');">&times;</span></button></div>
      <ul id="searchresults" class="list-group">
      </ul>
  </div>
</div>    
    
    <div class="container">
      <div class="col-md-10">

<h1 id="getting-started-with-fcc-software">Getting started with FCC software</h1>
<p>The FCC software is the common software for the FCC detector design study. We support the whole chain starting from event generation through parameterized and full detector simulation, reconstruction and data analysis.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>You should be familiar with basics of <code>bash</code> and know something about either python or C++ programming. If you are not, there are excellent material on the web.</p>
<p>New to CERN? Get to know the lxplus system <a href="http://information-technology.web.cern.ch/book/lxplus-service/lxplus-guide/lxplus-aliases">here</a>, <a href="http://information-technology.web.cern.ch/services/lxplus-service">here</a>, and <a href="https://twiki.cern.ch/twiki/bin/view/LHCb/RemoteLxplusConsoleHowTo">here</a>. Log in with the standard <code>ssh</code> command; if you are on Windows, look at <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a>.</p>
<blockquote>
<p>When you plan to contribute, have a look at the <a href="fcc-tutorials/FccSoftwareGit.html"> contribution guide</a>.</p>
</blockquote>
<h2 id="setting-up-the-fcc-environment">Setting up the FCC environment</h2>
<p>The following will set up the pre-installed software on lxplus (or any centos7 machine with cvmfs, e.g. lxplus):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">
<span class="bu">source</span> /cvmfs/fcc.cern.ch/sw/latest/setup.sh</code></pre></div>
<p><em>Note</em>: This has to be done every time you start a new session (i.e. when you log into your machine).</p>
<p>Check the setup by looking for the command <code>fccrun</code> to run jobs in the Gaudi-based software framework FCCSW:</p>
<pre><code>which fccrun</code></pre>
<h3 id="alternative-setup-methods">Alternative setup methods</h3>
<ul>
<li><p>The above script should automatically choose the latest installation available. For productions it is recommended to explicitly choose the version and platform of the software to use, for example by running</p>
<pre><code>source /cvmfs/fcc.cern.ch/sw/views/releases/externals/94.2.0/x86_64-centos7-gcc62-opt/setup.sh</code></pre></li>
</ul>
<p>Note that the above only sets up the &quot;externals&quot; and not the FCC software framework. This must be done in another step, running (fox example):</p>
<pre><code>/cvmfs/fcc.cern.ch/sw/releases/fccsw/0.10/x86_64-centos7-gcc62-opt/this_fccsw.sh</code></pre>
<p>Note that the <code>this_fccsw.sh</code> script is called <code>setup.sh</code> in versions of FCCSW newer than <code>0.10</code>.</p>
<ul>
<li>In case you want to work offline or need to tweak something deep in the stack, take a look at this repository of <a href="https://fcc-pileup.web.cern.ch/fcc-pileup/sw/fcc-ubuntu-sw.html">FCC packages for Ubuntu</a>.</li>
</ul>
<h3 id="using-virtual-machines-or-docker-containers">Using Virtual Machines or Docker containers</h3>
<p>The instructions above should work in any CentOS7 virtual machine or Docker container with <code>cvmfs</code> available. We give in the following one example for each of the two cases.</p>
<h4 id="cernvm-virtual-appliance">CernVM Virtual Appliance</h4>
<p>The CernVM project provides a convenient tool to start VMs, <a href="https://cernvm.cern.ch/portal/launch">cernvm-launch</a>, and a <a href="https://github.com/cernvm/public-contexts">public repository</a> of contexts to be used with <code>cernvm-launch</code> to configure the VM at your needs. A context dedicated to the FCC tutorials is available in the repository. The <a href="https://cernvm.cern.ch/portal/launch">cernvm-launch</a> works with <a href="https://www.virtualbox.org/">VirtualBox</a>, virtualization manager available for free for all platforms.</p>
<p>To create and use a CernVM virtual machine for the FCC tutorials please follow the following steps:</p>
<ul>
<li>Make sure <a href="https://www.virtualbox.org/">VirtualBox</a> is installed (details installing instructions from the product web page).</li>
<li>Download the <code>cernvm-launch</code> binary for your platform either from the <a href="https://ecsft.cern.ch/dist/cernvm/launch/bin/">dedicated download page</a> or from the following links:
<ul>
<li><a href="https://fccsw.web.cern.ch/fccsw/utils/vm/cernvm/launch/linux/cernvm-launch">Linux</a></li>
<li><a href="https://fccsw.web.cern.ch/fccsw/utils/vm/cernvm/launch/mac/cernvm-launch">Mac</a></li>
</ul>
Make sure is visible in your $PATH.</li>
<li>Get the <a href="https://raw.githubusercontent.com/cernvm/public-contexts/master/fcc-tutorial.context">fcc-tutorial.context</a> (use wget or curl)</li>
</ul>
<p>Once you have all this you can create the VM with this command:</p>
<pre><code>$ cernvm-launch create --name fcc-tutorial --cpus 4 --memory 8000 --disk 20000 fcc-tutorial.context</code></pre>
<p>You an choose how many CPU cores to use, the memory and the disk space. Good rules of thumb are to use half the cores of your machine, at least 2 GB memory per core, and enough disk for your job. The above command should oepn a window with VirtualBox and produce on the screen an output like this</p>
<pre><code>Using user data file: fcc-tutorial.context
Parameters used for the machine creation:
    name: fcc-tutorial
    cpus: 4
    memory: 8000
    disk: 20000
    cernvmVersion: 2019.06-1
    sharedFolder: /Users/ganis</code></pre>
<p>You see in partcular that your <code>$HOME</code> area is shared with the VM, so you can exchange files between the VM and the host machine very conveniently. From now on you can either work in the VirtualBox window or ssh to the machine with</p>
<pre><code>cernvm-launch ssh fcc-tutorial</code></pre>
<p>In either case you need a user name and password, which by default are <code>fccuser</code> and <code>fccpass</code>; these can be changed in the <code>fcc-tutorial.context</code> file.</p>
<p>To enable graphics you need to find out the port on which the VM responds and use <code>ssh -Y -P &lt;port&gt; fccuser@localhost</code>. For example</p>
<pre><code>$ cernvm-launch list
fcc-tutorial:   CVM: 2019.06-1  port: 36998
...
$ ssh -Y -P 36998 fccuser@localhost
The authenticity of host &#39;[localhost]:36998 ([127.0.0.1]:36998)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:JXjpOzSu7vIwgEDxc8s/fdDJv4gQs2SUjnbMnEZsaYI.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &#39;[localhost]:36998&#39; (ECDSA) to the list of known hosts.
fccuser@localhost&#39;s password:
Setting up external dependencies from /cvmfs/fcc.cern.ch/sw/views/releases/externals/96b.0.0/x86_64-centos7-gcc8-opt/setup.sh
Setting up FCCSW from /cvmfs/fcc.cern.ch/sw/releases/fccsw/0.11/x86_64-centos7-gcc8-opt/setup.sh
[fccuser@localhost ~]$</code></pre>
<p>(you can safely ignore warnings about setting LC_CTYPE). Graphics should of course work well if you choose to work in the VirtualBox window.</p>
<p>The <code>cernvm-launch</code> also supports listing, stopping, starting virtual machines. Please run <code>cernvm-launch -h</code> for all the available options.</p>
<h4 id="lhcb-centos7-docker-image">LHCb CentOS7 Docker image</h4>
<p>In case you don't have a centos7 installation, but you do have docker, you can use the <a href="https://gitlab.cern.ch/lhcb-core/LbDocker/#usage">centos7 docker image provided by LHCb</a>. Invoking <code>lb-docker-run --centos7 --no-lblogin --force-cvmfs</code> should give you access to the fcc cvmfs installations even if your host machine does not have cvmfs installed.</p>
<!-- ![flow-chart getting started](./images/FccSoftwareGettingStarted/flow_chart_starting.png) -->
<h2 id="where-do-i-start">Where do I start?</h2>
<p>That of course depends on what you want to do:</p>
<h3 id="produce-and-analyse-fast-simulated-events">Produce and analyse fast-simulated events:</h3>
<ul>
<li><a href="FccSoftwareGettingStartedFastSim.md">Getting started with the production and analysis of fast-simulated events with Delphes</a></li>
</ul>
<h3 id="develop-or-use-full-simulation-reconstruction-and-detailed-detector-descriptions">Develop or use full simulation, reconstruction and detailed detector descriptions:</h3>
<ul>
<li><a href="./FccSoftwareFramework.md">Getting started with FCCSW</a></li>
<li><a href="https://github.com/HEP-FCC/FCCSW/tree/master/Sim/doc/README.md">Geant 4 full (and fast) simulation</a></li>
<li><a href="https://github.com/HEP-FCC/FCCSW/tree/master/Detector/doc/DD4hepInFCCSW.md">Getting started with detector description</a></li>
<li>Reconstruction
<ul>
<li><a href="https://github.com/HEP-FCC/FCCSW/tree/master/Reconstruction/doc/RecCalorimeter.md">Information about calorimeter reconstruction</a></li>
<li><a href="https://acts.web.cern.ch">Information about track reconstruction</a></li>
</ul></li>
<li>For information about using Delphes, see the <a href="FccSoftwareGettingStartedFastSim.md#getting-started-with-delphes-fcc-hh">FCC-hh example</a> mentioned above</li>
</ul>
<p>Additional information is to be found in the <a href="README.md">index</a></p>
<h2 id="where-do-i-find-more-information">Where do I find more information?</h2>
<p>Depending on what you want to do, there are three different repositories that are your entry point in the FCC software stack.</p>
<p>The legacy <a href="http://hep-fcc.github.io/FCCSW/tutorials/fcc-tutorials/FccSoftwareGettingStartedLegacy.html">tutorials overview</a> has links to further reading material grouped by repository.</p>
<p>The following panels should help you identify where to look for more:</p>
<h3 id="look-at-heppy-fcc-physics-for">Look at <a href="http://fccsw.web.cern.ch/fccsw/tutorials#further-reading">heppy &amp; fcc-physics</a> for:</h3>
<p>Analysis and fast simulation</p>
<ul>
<li>Standalone Pythia event generation</li>
<li>FCC-ee parametric fast simulation (papas)</li>
<li>FCC-ee and FCC-hh physics analysis</li>
</ul>
<h3 id="look-at-fccsw-for">Look at <a href="http://fccsw.web.cern.ch/fccsw/tutorials#further-reading">FCCSW</a> for:</h3>
<p>Event generation, simulation and reconstruction</p>
<ul>
<li>Event generation with Pythia (more to come)</li>
<li>FCC-hh parametric fast simulation (Delphes)</li>
<li>Full and fast simulation with Geant 4</li>
<li>Detector descriptions with DD4hep</li>
<li>Reconstruction algorithms</li>
</ul>
<hr />
<p>If you encounter problems or have ideas for improving our tutorials, please contact FCC developers on mattermost, the forum or via mailing-list. Find the links on <a href="https://cern.ch/fccsw" class="uri">https://cern.ch/fccsw</a> !</p>
</body>
</html>
